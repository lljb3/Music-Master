// Video Functions
jQuery(document).ready(function($) {
	
	// Video Intro
	if($('#main').hasClass('page-template-template-intro')) {
		window.onload = function() {
			// Global Vars
			var video = document.getElementById('video');
			var playButton = document.getElementById('video-play');
			var muteButton = document.getElementById('video-mute');
			var fullScreenButton = $('#video-fscreen');
			// Autoplay
			video.play();
			// Button Functions
			playButton.addEventListener('click',function() {
				if (video.paused == true) {
					// Play the video
					video.play();
					// Update the button text to 'Pause'
					playButton.innerHTML = '<span class="glyphicon glyphicon-pause"></span>';
				} else {
					// Pause the video
					video.pause();
					// Update the button text to 'Play'
					playButton.innerHTML = '<span class="glyphicon glyphicon-play"></span>';
				}
			});
			muteButton.addEventListener('click',function() {
				if (video.muted == false) {
					// Mute the video
					video.muted = true;
					// Update the button text
					muteButton.innerHTML = '<span class="glyphicon glyphicon-volume-off"></span>';
				} else {
					// Unmute the video
					video.muted = false;
					// Update the button text
					muteButton.innerHTML = '<span class="glyphicon glyphicon-volume-up"></span>';
				}
			});
			fullScreenButton.click(function() {
				if (video.requestFullscreen) {
					video.requestFullscreen();
				} else if (video.mozRequestFullScreen) {
					video.mozRequestFullScreen(); // Firefox
				} else if (video.webkitRequestFullscreen) {
					video.webkitRequestFullscreen(); // Chrome and Safari
				}
			});
			// Replay Video
			$('#replay').click(function() {
				// Play the video
				video.play();
				// Hide Replay Button
				$(this).removeClass('fade-in');
			});
		}
		// When Video Ends
		$('video').on('ended',function(){
			console.log('Video has ended!');
			$(this).addClass('has-ended');
			$('#replay').addClass('fade-in');
		});
	}
		
});